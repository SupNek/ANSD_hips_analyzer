Тема 9 - Законы текста

При написании использовался Python 3.12.4

Библиотеки:
pymorphy3 - морфологический анализ слов
matplotlib.pyplot - построение графиков частоты встречи слов разных частей речи, а также для отрисовки графика закона Хипса
numpy - для задания осей в графиках
pandas - построение таблицы морфологического анализа и вывод в .xlsx файл
openpyxl - библиотека для работы с .xlsx файлами, нужна для вывода морфологического анализа в таблицу
sys - более опрятное завершение программы при ошибках ввода
re - используем регулярные выражения для проверки форматов файлов
nltk.tokenize - использовался для токенизации текста
tqdm - красивые прогресс-бары при длительном выполнении некоторых функций (например, морфологический анализ)

Внимание! Программа была расчитана (и тестировалась) под UNIX системы, это стоит учитывать при написании пути файлов в системе
(в Windows используется '\' вместо '/')
Внимание! При записи статистики в выходной файл он должен быть пуст! Иначе текст просто будет дописываться в его конец.

Данная программа решала несколько задач:
1. Полный морфологический анализ слов текста с выведением результатов в файл Excel
2. Подсчет ранга, абсолютной и относительной частоты употребления словоформ и лемм с выводом в файл и на экран
3. Построение графика количества лемм/словоформ от размера текста, с графиком закона Хипса для сравнения

Работа с программой осуществляется через терминал, ответом на запросы программы является y/n (вне зависимости от регистра и пробелов по краям)
или же число, где об этом сказано прямо. В случае некорректного пользовательского ввода программа аварийно прекращет свое выполнение!

Программа состоит из трех модулей:
    1. morph.py - все функции необходимые для морфологического анализа таких частей речи как: существительные, глаголы, прилагательные, местоимения, причастия, деепричастия, числительные и наречия (остальные части речи не анализируются)
    2. text_job.py - функции, необходимые для предобработки текста, подсчета статистики по тексту и вывода графиков
    3. main.py - основная работа с консолью, вывод в файлы, импортирует две предыдущие


В папке texts прикреплены файлы с тестовыми текстами для анализа текста.
В папке results прикреплены файлы с результатами анализа текста.'
В папке tests содержатся тесты с вручную подсчитанными ответами, которые лежат в "Ответы к тестам.txt"
В папку graphs сохраняются сгенерированные графики по итогу работы анализатора

Тестовые тексты
1. Л.Н.Толстой "Война и мир" - texts/war_and_peace.txt
2. Ф.М.Достоевский "Преступление и наказание" (фрагмент) - texts/crime_and_punishment.txt
3. Конституция РФ - texts/constitution.txt
4. Статья на Хабре - "Как фармить Kaggle" - texts/habr_kaggle_farm.txt
5. Доклад "Институциональная школа экономики" - texts/institutionalism.txt
6. Конспект лекций по курсу "Операционные системы", ВМК 2006г. - texts/os_mash.txt
7. Описание этого задания - texts/description_big_task.txt
8. Практическое применение: проверка текста на копипасту ("Преступление и наказание" + снова первая половина "Преступления и наказания" + первые пять глав "Война и мир") - texts/copypaste_proof.txt

Дополнительно решалась прикладная задача проверки текста на наличие в нем самокопирующих фрагментов (копипаста), для этого был взят фрагмент текста "Преступление и наказание" + снова первая половина "Преступления и наказания" + первые пять глав "Война и мир"
Если при этом анализировать график уникальных лемм и словоформ, то легко видно, что на том моменте, где заканчивается оригинальный фрагмент "Преступления и наказания" и далее идет его копия, то там график превращается в прямую, так как новых слов нет.
Для проверки это задания достаточно запустить анализатор на тексте 8 из предложенного списка - texts/copypaste_proof.txt

Патч 1.1 (Исправления по комментариям)
1. Добавлен прогресс-бар tqdm для подсчета лемм и словоформ, а также вычисления закона Хипса (самые долгие операции)
2. Были добавлены итоги по проделанной работе анализатора + создание файла сводного графика, содержащего все выведенные ранее в процессе работы графики. Создаваемый файл получает 5-значный случайно генерируемый код, чтобы не было перекрытия в выходной папке + на экран вывоится сообщение о его названии.
3. В папку test были добавлены небольшие тесты, на которых можно вручную проверить работу программы. Файл "Ответы к тестам.txt" 
содержит вручную посчитанные ответы к программе (внимание! Ответы были подсчитаны для тестов при отсутствии стоп слов при токенизации)
4. Было добавлено уточнение, что константы закона Хипса подбирались так, чтобы соответствовать графику новых слов в тексте "Война и мир", таким образом можно определять стилистику текста: художественные тексты будут иметь похожий график, либо немного отстающий/обгоняющий его, а официально-деловые будут иметь значительно более медленно растущий график, чем график закона Хипса
5. Как бонус в конце программы появилась возможность построить график появления уникальных лемм/словоформ для всех 8 тестовых текстов (с изображением на одном графике)